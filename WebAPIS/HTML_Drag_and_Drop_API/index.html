<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML Drag and Drop API - Detailed Guide</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .section-heading {
        margin-top: 30px;
      }
      pre {
        background-color: #f8f9fa;
        padding: 10px;
        border: 1px solid #dee2e6;
        border-radius: 5px;
      }
      code {
        background-color: #f8f9fa;
        padding: 3px;
        border-radius: 3px;
      }
      #content {
        margin-top: 20px;
        padding: 20px;
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 5px;
      }

      .draggable {
        margin: 10px;
        padding: 20px;
        background-color: #007bff;
        color: white;
        border-radius: 5px;
        cursor: pointer;
        user-select: none;
      }

      .drop-zone {
        margin: 20px;
        padding: 30px;
        background-color: #f1f1f1;
        border: 2px dashed #007bff;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="./index.html">Drag Drop API</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="./index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./ImageDragDropEx.html"
                >Image Drag Drop Example</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <header class="text-center mt-5">
        <h1>HTML Drag and Drop API</h1>
        <p class="lead">
          A Detailed Guide with Methods, Examples, and Use Cases
        </p>
      </header>

      <section class="mt-5">
        <h2 class="section-heading">Introduction</h2>
        <p>
          The <strong>HTML Drag and Drop API</strong> allows developers to
          implement drag-and-drop functionality directly within the browser
          using native HTML and JavaScript. The API consists of three core
          events—<code>dragstart</code>, <code>dragover</code>, and
          <code>drop</code>—that manage the entire drag-and-drop interaction.
        </p>
        <p>
          This API enables users to drag elements, such as images, text, or even
          other DOM elements, and drop them into a specific location on the
          page.
        </p>
      </section>

      <section>
        <h2 class="section-heading">Use Cases</h2>
        <ul>
          <li>
            <strong>File Uploads:</strong> Enable users to drag and drop files
            from their desktop into a browser window.
          </li>
          <li>
            <strong>Interactive UI:</strong> Create interactive applications
            with sortable lists, such as task managers or photo albums.
          </li>
          <li>
            <strong>Custom Drag-and-Drop Interfaces:</strong> Build custom
            drag-and-drop interfaces, like dragging elements to create a collage
            or reorder a playlist.
          </li>
        </ul>
      </section>
      <section>
        <h2 class="section-heading">
          Understanding the HTML Drag and Drop Events
        </h2>
        <p>
          The HTML Drag and Drop API consists of several key events that allow
          you to handle drag-and-drop interactions effectively. Below is a
          breakdown of each event used in the process:
        </p>
        <ul>
          <li>
            <strong>dragstart event:</strong>
            <p>
              This event is triggered when the user starts dragging an element.
              It is the starting point of the drag operation. The
              <code>dragstart</code> event allows you to prepare the dragged
              element by setting the drag data using
              <code>e.dataTransfer.setData()</code> and modifying its appearance
              (e.g., making it semi-transparent).
            </p>
            <ul>
              <li>
                <strong>When it occurs:</strong> As soon as the user clicks and
                starts dragging the element.
              </li>
              <li>
                <strong>What you can do:</strong> Set data to be transferred,
                and customize the visual appearance of the element.
              </li>
            </ul>
          </li>

          <li>
            <strong>dragover event:</strong>
            <p>
              The <code>dragover</code> event occurs when the dragged element is
              hovering over a drop zone. It is used to allow the element to be
              dropped into the drop zone.
            </p>
            <ul>
              <li>
                <strong>When it occurs:</strong> When the dragged element is
                hovering over the drop zone.
              </li>
              <li>
                <strong>What you can do:</strong> Call
                <code>e.preventDefault()</code> to enable the drop operation and
                visually indicate that the drop is allowed (e.g., by changing
                the background color of the drop zone).
              </li>
            </ul>
          </li>

          <li>
            <strong>dragleave event:</strong>
            <p>
              This event is triggered when the dragged element leaves the drop
              zone. It allows you to reset any visual changes made during the
              dragover event.
            </p>
            <ul>
              <li>
                <strong>When it occurs:</strong> When the dragged element moves
                away from the drop zone.
              </li>
              <li>
                <strong>What you can do:</strong> Revert any visual changes
                (e.g., reset background color) applied during the dragover
                event.
              </li>
            </ul>
          </li>

          <li>
            <strong>drop event:</strong>
            <p>
              The <code>drop</code> event is triggered when the dragged element
              is dropped into a drop zone. This is the final step of the
              drag-and-drop interaction.
            </p>
            <ul>
              <li>
                <strong>When it occurs:</strong> When the dragged element is
                released and dropped over the drop zone.
              </li>
              <li>
                <strong>What you can do:</strong> Retrieve the transferred data
                using <code>e.dataTransfer.getData()</code>, move the dragged
                element to the drop zone, and reset the drop zone’s visual
                state.
              </li>
            </ul>
          </li>

          <li>
            <strong>Styling and Feedback:</strong>
            <p>
              The visual feedback of the drop zone changes during the
              drag-and-drop process. It highlights the drop zone when the
              dragged element hovers over it and resets after the element is
              dropped.
            </p>
            <ul>
              <li>
                <strong>During <code>dragover</code>:</strong> Change the
                appearance of the drop zone (e.g., background color) to indicate
                that the drop is allowed.
              </li>
              <li>
                <strong>During <code>dragleave</code>:</strong> Reset the
                appearance once the dragged element leaves the drop zone.
              </li>
              <li>
                <strong>After <code>drop</code>:</strong> The dragged element is
                moved to the drop zone, and the drop zone's appearance returns
                to its original state.
              </li>
            </ul>
          </li>
        </ul>
      </section>

      <section>
        <h2 class="section-heading">Live Working Example</h2>
        <p>
          Below is a live demonstration of how to drag and drop an element. When
          the element is dropped into the drop zone, it moves there and removes
          its initial position.
        </p>

        <!-- Draggable Item and Drop Zone -->
        <div class="draggable" id="dragItem" draggable="true">Drag Me!</div>
        <div class="drop-zone">Drop Here!</div>
        <div class="drop-zone">Drop Here!</div>

        <script>
          const draggable = document.querySelector("#dragItem");
          const dropZone = document.querySelectorAll(".drop-zone");

          // Handle dragstart event
          draggable.addEventListener("dragstart", (e) => {
            e.dataTransfer.setData("text", "Dragged Element");
            e.target.style.opacity = 0.5; // Make the element semi-transparent while dragging
          });

          // Handle dragend event to reset the element's opacity
          draggable.addEventListener("dragend", () => {
            draggable.style.opacity = 1;
          });

          dropZone.forEach((zone) => {
            // Handle dragover event to allow drop
            zone.addEventListener("dragover", (e) => {
              e.preventDefault(); // Prevent the default behavior to allow dropping
              zone.style.backgroundColor = "#e1f5fe"; // Highlight drop zone
            });

            // Handle dragleave event to reset the drop zone style
            zone.addEventListener("dragleave", () => {
              zone.style.backgroundColor = "#f1f1f1"; // Reset drop zone style
            });

            // Handle drop event
            zone.addEventListener("drop", (e) => {
              e.preventDefault(); // Prevent default behavior
              const data = e.dataTransfer.getData("text");

              // Move the dragged element to the drop zone and remove from initial position
              zone.appendChild(draggable);
              zone.style.backgroundColor = "#f1f1f1"; // Reset drop zone style
            });
          });
        </script>
      </section>

      <!-- How it works: Explanation of the Live Example -->
      <section>
        <h2 class="section-heading">How the Live Example Works</h2>
        <p>Here's a breakdown of the live example:</p>
        <ul>
          <li>
            <strong>draggable attribute:</strong> The <code>div</code> with the
            class <code>draggable</code> has the
            <code>draggable="true"</code> attribute, which makes it a draggable
            item.
          </li>
          <li>
            <strong>dragstart event:</strong> When the user starts dragging the
            element, the <code>dragstart</code> event is triggered. The
            <code>setData</code> method is used to specify the type of data
            being transferred (in this case, the text 'Dragged Element').
          </li>
          <li>
            <strong>dragover event:</strong> The <code>dragover</code> event is
            triggered when the dragged element is over the drop zone. The
            default behavior is prevented using
            <code>e.preventDefault()</code> to allow dropping.
          </li>
          <li>
            <strong>drop event:</strong> When the element is dropped on the drop
            zone, the <code>drop</code> event is triggered. The
            <code>getData</code> method retrieves the transferred data and shows
            it in an alert.
          </li>
          <li>
            <strong>Styling:</strong> The drop zone changes color when an
            element is dragged over it, providing visual feedback to the user.
            Once the element is dropped, it is moved to the drop zone, and the
            background color of the drop zone resets.
          </li>
        </ul>
        <p>
          In this live example, when you drag the
          <strong>Drag Me!</strong> element and drop it on the
          <strong>Drop Here!</strong> area, the element will move into the drop
          zone and the initial position will be removed.
        </p>
      </section>

      <section>
        <h2 class="section-heading">Conclusion</h2>
        <p>
          The HTML Drag and Drop API allows you to implement powerful and
          interactive drag-and-drop functionality in web applications. By
          utilizing events such as <code>dragstart</code>,
          <code>dragover</code>, and <code>drop</code>, you can create intuitive
          user interfaces that support dragging and dropping of elements.
        </p>
        <p>
          With just a little JavaScript, you can add drag-and-drop behavior to
          almost any element in your page, providing users with a rich and
          engaging experience.
        </p>
      </section>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
